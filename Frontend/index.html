<!doctype html>
<html lang="es">
<head>
  <!-- Auth gate: solicita contraseña antes de cargar -->
  <script>
  (async () => {
    // REEMPLAZA este valor por el SHA-256 hex de tu contraseña elegida
    const ALLOWED_HASH = "7e4d243ff1de6d4f911739f305644d04d06afc579763ebf950219722d27b79c8"; // ejemplo: "3d2e...f5a0"

    // Helper: SHA-256 (retorna hex)
    async function sha256Hex(text) {
      const enc = new TextEncoder().encode(text);
      const hashBuffer = await crypto.subtle.digest('SHA-256', enc);
      const hashArray = Array.from(new Uint8Array(hashBuffer));
      return hashArray.map(b => b.toString(16).padStart(2, '0')).join('');
    }

    // Si ya inició sesión en esta pestaña, permitir (sessionStorage)
    if (sessionStorage.getItem('invitation_auth') === '1') return;

    // Límite de intentos (evita loops)
    const MAX_ATTEMPTS = 3;
    for (let i = 0; i < MAX_ATTEMPTS; i++) {
      // prompt sin cargar la página (aparece antes)
      const pw = prompt('Introduce la contraseña para ver esta página:');
      if (pw === null) { // usuario canceló
        window.location.href = 'construccion.html';
        return;
      }
      const h = await sha256Hex(pw);
      if (h === ALLOWED_HASH) {
        // Guardar en sessionStorage para no volver a pedir durante la sesión
        sessionStorage.setItem('invitation_auth', '1');
        return; // permite que la página continúe cargando
      } else {
        alert('Contraseña incorrecta. Intenta de nuevo.');
      }
    }

    // Si se agotan intentos, redirigir
    window.location.href = 'construccion.html';
  })();
  </script>

  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Irving & Evelyn — Invitación</title>
  <link rel="icon" type="image/x-icon" href="images/favicon.png">
  <!-- Google Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Great+Vibes&family=Playfair+Display:wght@400;600;700&family=Inter:wght@300;400;600&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="css/home.css">
  <link rel="stylesheet" href="css/styles.css">
  <script type="text/javascript" src="https://assets.pinterest.com/js/pinit.js"></script>
  <script src="js/aws-sdk.min.js"></script>
  <script src="js/aws-amplify.min.js"></script>
  <meta name="description" content="Invitación de boda de Irving y Evelyn" />
  <!-- iPhone: modo app fullscreen -->
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="apple-mobile-web-app-title" content="Nuestra Boda">
  <!-- Android / Chrome -->
  <meta name="mobile-web-app-capable" content="yes">
  <link rel="manifest" href="manifest.json">
  <script src="https://cdn.onesignal.com/sdks/web/v16/OneSignalSDK.page.js" defer></script>

</head>

<body>

<header>
  <div class="nav"><a href="#home">Irving & Evelyn</a></div>
</header>

<main>

    
<!-- ============================================
     HERO — SOBRE DE CARTA VERDE CON SELLO DORADO
============================================= -->
<section id="home" class="envelope-wrapper">
  
  <div class="envelope">
    <!-- Sello circular dorado -->
    <div class="seal"></div>
    <!-- Contenido dentro del sobre -->
    <div class="envelope-content">
      <div class="date">Sábado, 18 de Abril • 2026</div>
      <h1 class="title">Irving & Evelyn</h1>
    </div>
  </div>

</section>

<!-- ==========================================================
     HISTORIA
========================================================== -->
<section class="story" id="story1">
  <div class="container">
    <div class="row">
      <div class="col-media card parallax reveal">
        <img src="images/Jungapeo-letras.png" class="photo">
      </div>
    </div>
  </div>
</section>

<!-- ==========================================================
     DETALLES - CALENDARIO
========================================================== -->
<section id="detalles" class="detalles-section">

  <p class="detalles-intro">
    Con la bendición de Dios y nuestros padres,<br>
    tenemos el honor de invitarles a nuestra boda religiosa
  </p>

  <!-- Fecha grande -->
  <div class="fecha-block">
    <div class="mes">ABRIL</div>
    <div class="fecha-grid">
      <span class="fecha-lado">SÁBADO</span>
      <span class="fecha-dia">18</span>
      <span class="fecha-lado">2026</span>
    </div>
  </div>

  <!-- Contador -->
  <div class="countdown-wrapper">
    <div class="faltan">FALTAN</div>

    <div id="countdown" class="countdown">
      <div><span id="dias">00</span><small>Días</small></div>
      <div><span id="horas">00</span><small>Horas</small></div>
      <div><span id="minutos">00</span><small>Min</small></div>
      <div><span id="segundos">00</span><small>Seg</small></div>
    </div>
  </div>

  <!-- Calendario -->
  <div class="calendar-block">
    <div class="gran-dia">EL GRAN DÍA</div>
    <div class="gran-dia-mes">ABRIL 2025</div>

    <div class="calendar">
      <div class="week">LUN MAR MIE JUE VIE SAB DOM</div>
      <div class="days">
        <span></span><span></span><span>1</span><span>2</span>
        <span>3</span><span>4</span><span>5</span><span>6</span><span>7</span><span>8</span><span>9</span>
        <span>10</span><span>11</span><span>12</span><span>13</span>
        <span>14</span>
        <span>15</span><span>16</span>
        <span>17</span><span class="heart">18</span><span>19</span><span>20</span><span>21</span><span>22</span><span>23</span>
        <span>24</span><span>25</span><span>26</span><span>27</span><span>28</span><span>29</span><span>30</span>
      </div>
    </div>
  </div>
  <div class="calendar-download">
    <h3 id="download-ics"><i class="far fa-calendar-alt"></i> Añadir a Calendario</h3>
  </div>
</section>

<!-- ==========================================================
     ITINERARIO
========================================================== -->
<section id="itinerario" class="timeline-section">
  <h2 class="timeline-title">Itinerario del Día</h2>

  <div class="timeline">

    <!-- Evento 1 -->
    <div class="timeline-item reveal-story">
      <div class="timeline-icon"><img src="https://cdn-icons-png.flaticon.com/512/2750/2750164.png"></div>
      <div class="timeline-content left">
        <h3>3:00 PM <br> Ceremonia</h3>
      </div>
    </div>

    <!-- Evento 2 -->
    <div class="timeline-item reveal-story">
      <div class="timeline-icon"><img src="https://cdn-icons-png.flaticon.com/512/10230/10230428.png"></div>
      <div class="timeline-content right">
        <h3>4:30 PM <br> Sesión de Fotos</h3>
      </div>
    </div>

    <!-- Evento 3 -->
    <div class="timeline-item reveal-story">
      <div class="timeline-icon"><img src="https://cdn-icons-png.flaticon.com/512/1161/1161670.png"></div>
      <div class="timeline-content left">
        <h3>5:00 PM <br> Recepción</h3>
        <p>Comida, música y celebración en un ambiente inolvidable.</p>
      </div>
    </div>

    <!-- Evento 4 -->
    <div class="timeline-item reveal-story">
      <div class="timeline-icon"><img src="https://cdn-icons-png.flaticon.com/512/7779/7779711.png"></div>
      <div class="timeline-content right">
        <h3>8:00 PM <br> Fiesta</h3>
        <p>Abrimos la pista para bailar y celebrar toda la noche.</p>
      </div>
    </div>

  </div>
</section>

<!-- ==========================================================
     CÓDIGO VESTIMENTA
========================================================== -->

<section id="vestimenta">
    <div class="detail-card container">
        <i class="fas fa-tshirt icon-gold"></i>
        <h2>Código</h2>
        <p>Elegante Formal</p>
        <a data-pin-do="embedPin" href="https://mx.pinterest.com/pin/7810999348109140/"></a>
        <a data-pin-do="embedBoard" href="https://mx.pinterest.com/thriftedoutfit/carrie-bradshaw-outfits/"></a>
    </div>
</section>

<!-- ==========================================================
     WIDGET CLIMA
========================================================== -->
<section class="weather-widget">
    <h2><i class="fas fa-cloud-sun"></i> Clima Pronosticado</h2>
    <div id="weather-data">
      <p>Cargando...</p>
    </div>
</section>

<!-- ==========================================================
     UBICACION
========================================================== -->
<section class="story" id="ubicacion">
    <div class="container">
      <div class="row col-media card parallax reveal inview">
        <div class="col-text reveal">
          <h3>Iglesia de Nuestra Señora de la Asuncion</h3>
          <p><a href="https://maps.app.goo.gl/P4TNgpkwYjZWgeaZ6">Ver ubicación en el Mapa</a></p>
        </div>
        <div class="col-text reveal">
          <h3>Salón San Francisco</h3>
          <p><a href="https://maps.app.goo.gl/chNWjAQAiyRo3MHAA">Ver ubicación en el Mapa</a></p>
        </div>
      </div>
    </div>
</section>

<!-- ==========================================================
     RSVP
========================================================== -->
<!-- Botones principales -->
  <!-- Formulario de Confirmación -->
  <section id="rsvp-section" class="detail-card">
    <h2>Confirmar Asistencia</h2>
    <form id="rsvp-form">
      <div class="form-group">
        <label for="nombre">Nombre Completo</label>
        <input type="text" id="nombre" required>
      </div>
      <div class="form-group">
        <label for="telefono">Número de Teléfono</label>
        <input type="number" id="telefono" required>
      </div>
      <div class="form-group hidden" style="display: none !important;">
        <label for="asistentes">Número de Asistentes</label>
        <input type="number" id="asistentes" min="1" value="1" required>
      </div>
      <div class="form-group">
        <label for="mensaje">Mensaje (opcional)</label>
        <textarea id="mensaje"></textarea>
      </div>
      <button type="submit" class="gold-button">Confirmar Asistencia</button>
    </form>
    
    <div id="qr-container" style="display:none;">
      <h3>Tu código de confirmación</h3>
      <div id="qr-code" class="qr-code-container"></div>
      <button id="download-qr" class="gold-button">
        <i class="fas fa-download"></i> Descargar QR
      </button>
    </div>
  </section>

<!-- ==========================================================
     GALERÍA
========================================================== -->
<section class="story" id="gallery">
  <div class="container">
    <div class="row">
      <div class="col-text reveal">
        <h2>Galería</h2>
        <p>Subiremos fotos después del evento.</p>
      </div>
      <div class="col-media reveal">
        <div class="card">
            <a href="gallery.html" class="gold-button outline">
                <i class="fas fa-camera"></i> Ver Álbum
            </a>
        </div>
      </div>
    </div>
  </div>
</section>

<footer>
  Gracias por ser parte de nuestra historia.
</footer>

<footer>
    <p>¿Preguntas? <a href="https://wa.me/+525548943857" class="text-link">Contáctanos</a></p>
</footer>

<!-- ==========================================================
     Bot press AI chatbot
========================================================== -->
<script src="https://cdn.botpress.cloud/webchat/v3.4/inject.js"></script>
<script src="https://files.bpcontent.cloud/2025/11/26/20/20251126200816-YHGVI2T5.js" defer></script>
    

<script>
/* Smooth scroll */
document.querySelectorAll('[data-scroll-to]').forEach(btn=>{
  btn.addEventListener('click',()=>{
    const target=document.querySelector(btn.getAttribute('data-scroll-to'));
    target && target.scrollIntoView({behavior:'smooth'});
  });
});

/* Reveal on scroll */
const io=new IntersectionObserver((entries)=>{
  entries.forEach(e=>{if(e.isIntersecting)e.target.classList.add('inview');});
},{threshold:0.15});
document.querySelectorAll('.reveal').forEach(e=>io.observe(e));
</script>

<!-- ==========================================================
    OneSignal notification 
========================================================== -->
  <script>
    window.OneSignalDeferred = window.OneSignalDeferred || [];
    OneSignalDeferred.push(async function(OneSignal) {
      await OneSignal.init({
        appId: "d59c0907-e7d2-4386-bea5-5e89261ce42a",
      });
    });
  </script>
  
  <script src="js/app.local.js"></script>
  <script src="js/app.js"></script>
  <!-- Firebase -->
  <script src="https://www.gstatic.com/firebasejs/9.6.0/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.6.0/firebase-firestore-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.6.0/firebase-auth-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.6.0/firebase-storage-compat.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/qrcode@1.5.1/build/qrcode.min.js"></script>
  <script src="js/confirmacion.js"></script>
</body>
</html>
